# Server Port
server.port=8088

# Kafka Broker
spring.kafka.bootstrap-servers=localhost:9092

# ===================================================================
# Kafka Producer EOS Configuration
# ===================================================================
# acks=all is required for idempotency and transactional producers.
spring.kafka.producer.acks=all
# enable.idempotence=true ensures that messages are written exactly once to a single partition.
spring.kafka.producer.enable-idempotence=true
# transaction-id-prefix is required for transactional producers.
spring.kafka.producer.transaction-id-prefix=tx-eos-

# ===================================================================
# Kafka Consumer (for SimpleConsumer) Configuration
# ===================================================================
spring.kafka.consumer.group-id=simple-consumer-group
# isolation.level=read_committed ensures that the consumer only reads committed messages.
spring.kafka.consumer.properties.isolation.level=read_committed
spring.kafka.consumer.auto-offset-reset=earliest

# ===================================================================
# Kafka Streams EOS Configuration
# ===================================================================
spring.kafka.streams.application-id=eos-stream-app
# processing.guarantee=exactly_once_v2 is the key to enabling EOS in Kafka Streams.
# It ensures that the entire read-process-write operation is atomic.
spring.kafka.streams.properties.processing.guarantee=exactly_once_v2
spring.kafka.streams.properties.num.stream.threads=1
spring.kafka.streams.properties.commit.interval.ms=100
